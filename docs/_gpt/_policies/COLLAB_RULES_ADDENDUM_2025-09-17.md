[01] START — 파일: docs/_gpt/_policies/COLLAB_RULES_ADDENDUM_2025-09-17.md — 구획: 협의규약 추가(2025-09-17) — 변경 유형: 신규 파일 · 구획 전체
# 협의규약 추가(2025-09-17)
본 추가 규약은 기존 협업 규약을 보완한다. 모든 패치/PR/리뷰에 기본 적용한다.

## A. 상호 연관 코드의 “원자적(Atomic) 제시” 원칙.
- **정의**: 한 기능·정책·버그 픽스를 완결 상태로 만들기 위해 **서로 강결합**된 변경(같은 파일의 여러 구획, 혹은 서로 의존하는 2~3개 파일)은 **한 번에 묶어서 제시**한다.  
- **취지**: CI 깨짐 방지, 부분 적용으로 인한 불안정 상태 최소화.  
- **범위 가이드**:
  - ✅ 한 이슈/기능을 성립시키는 *필수* 변경들(예: API 시그니처 변경에 따른 호출부 전부)  
  - ❌ 주제와 무관한 리팩터/정리(별도 PR로 분리)  
- **제시 형식**: 여전히 **숫자 구획 [NN]·START/END 전체 교체**를 준수하되, 동일 주제 내 연관 구획은 **한 PR에서 일괄 제시**한다.

## B. “코드 제시 전, 브랜치 이름 선제안” 원칙
- 어시스턴트는 **코드/패치 제시 직전**, 아래 규약에 맞는 브랜치 이름을 먼저 제안한다.
- **브랜치 네이밍 규약**:
  - 형식: `<type>/<scope>-<short>-<YYYYMMDD>[-bN]`
  - `type`: `feat`, `fix`, `refactor`, `docs`, `chore`, `ci`, `test`, `perf`, `build`
  - `scope`: 모듈/영역(예: `rag-label`, `admin-ui`, `indexer`)
  - `short`: 짧은 설명(하이픈 소문자), 한국어 가능(영문 추천)
  - `YYYYMMDD`: 생성일(예: `20250917`)
  - 선택 `-bN`: 동일 주제의 단계 번호(예: `-b0`, `-b1`)
- **예시**:
  - 0단계 라벨 SSOT 픽스: `fix/rag-label-ssot-20250917-b0`
  - docstring SSOT 정리(다음 단계): `docs/rag-label-docstring-20250917-b1`
  - secrets 템플릿 추가: `docs/secrets-example-20250917-b0`
- **PR/커밋 표기**: PR 제목/본문에 같은 토큰(`ssot`, `b0`)을 포함해 추적성을 높인다.

## C. 현재 운영 상태(기억)
- 현재는 **별도 브랜치를 만들어 PR 테스트**를 수행 중이며, 이 상태를 **기본 전제**로 한다.
- 이미 개설된 브랜치가 있다면 **그 브랜치로 계속 진행**하고, 이후 변경부터 본 네이밍 규약을 적용한다.

## D. 적용·검증 절차(요약)
1) 브랜치 생성(웹 UI 권장) → 2) 변경 파일에 **숫자 구획 [NN]·START/END** 방식으로 전체 교체 →  
3) PR 생성(자동 CI 실행) → 4) CI 통과 시 리뷰/머지 → 5) 문제 시 즉시 Revert  
- PR 본문에 **변경 주제·연관 구획 목록**과 **DoD 체크리스트** 포함

## E. Definition of Done (DoD)
- CI(`ruff`/`mypy`/`pytest`) **전부 통과**
- 연관 구획이 누락 없이 포함되어 **주제 단위로 완결**
- 문서/로그/칩 표기(SSOT)가 **일관**

[01] END — 파일: docs/_gpt/_policies/COLLAB_RULES_ADDENDUM_2025-09-17.md — 구획: 협의규약 추가(2025-09-17) — 변경 유형: 신규 파일 · 구획 전체
