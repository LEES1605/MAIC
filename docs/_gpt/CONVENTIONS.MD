# 협의규약 (CONVENTIONS)

Source-of-Truth: github://LEES1605/MAIC@main/docs/_gpt/CONVENTIONS.md
Version: 2025-09-07
Owner: @LEES1605

## 0) 목적
- 본 문서는 MAIC 프로젝트의 **개발·리뷰·릴리스 운영 규칙**을 정의하여, 품질/속도/안정성을 동시에 확보한다.
- 원칙: **보안**, **정확성**, **일관성**, **가독성**, **유지보수성**.

---

## 1) 공통 원칙
- **보안**: 토큰·시크릿·개인정보는 절대 로그/에러 메시지/스크린샷에 노출 금지.
- **정확성**: 기능/문서/코드 간 싱크 유지. 문서 변경 시 커밋과 함께 반영.
- **일관성**: 폴더 구조, 네이밍, 구획 번호, 코드 스타일 모두 일관 유지.
- **가독성**: 한 기능 = 한 책임(SRP). UI/서비스/코어 로직 분리.

---

## 2) 패치 규칙 (매우 중요)
- **항상 “숫자구획 전체 교체([NN]START~END)” 단위로** 수정한다. (라인 부분 수정및 코드 중략 금지)
- **스타일 규칙 고정**: ruff/mypy/black 규칙에 맞추어 코드를 작성한다.
- **키/헬퍼 일관화**: 세션 키, 함수명, 환경변수명, 헬퍼 구조를 통일한다.
- **코드 제공 전 질문**: 코드 수정의 목적과 수정의 필요성을 가능한한 쉬운 표현으로 예시를 들어 설명한 후, 반드시 사용자에게 먼저 전체 코드를 요청후, 그것을 바탕으로 수정코드를 만들고 제공전에 질문/확인 후 진행한다.
- **코드 수정이, 해당구역 삭제의 경우에는, 수정코드를 제공하지 않고, 변경 전과 후의 코드를 제시함(확인을 위해 앞뒤 한 두줄 포함)으로써 대신할 수 있다.
- **사용자의 의견보다 더 좋은, 효율적인, 최적의 방법이나 방식이 있다면 반드시 이를 사용자에게 전달한다. 모든 패치는 사용자와 협의 후 합의한 내용에 대해서 패치를 한다.
- **패치 진행중 다른 긴급한 패치를 해야한다면 사용자에게 이를 알리고, 긴급패치후 이어서 패치할 수 있도록 자체적 스케줄에 기록하여 기억하도록 한다.
---

## 3) 구획(섹션) 규칙
- 각 파일은 `# ================= [NN] 타이틀 — START/END =================`로 구획화.
- **번호는 파일 단위로 1부터** 시작. 파일 내 연속 정수(1,2,3,…)만 사용 (중복/누락 금지).
- 구획 내 함수/클래스/설명 주석 포함. 구획 단위로만 교체 PR을 올린다.

예)
```python
# ============== [01] imports & bootstrap — START ==============
...
# ============== [01] imports & bootstrap — END ================
