<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¼ì´í¬ì´ìŠ¤í„´ ì˜ì–´ì „ë¬¸í•™ì›</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #3a3d5c, #4a4d6c, #5a5d7c);
            color: #c1c3e0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            margin-top: 4rem;
            margin-bottom: 3rem;
        }
        
        .title {
            font-size: 3rem;
            font-weight: 700;
            color: #e0e0e0;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #8b9cf7 0%, #9d7bf0 50%, #f5a5fc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(139, 156, 247, 0.4);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #c1c3e0;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .card {
            background: rgba(44, 47, 72, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 
                12px 12px 24px rgba(0, 0, 0, 0.4),
                -12px -12px 24px rgba(255, 255, 255, 0.15);
        }
        
        .card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #e0e0e0;
            margin-bottom: 1rem;
        }
        
        .card p {
            color: #b0b0b0;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        .card-button {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border: none;
            border-radius: 15px;
            color: white;
            padding: 12px 24px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            box-shadow: 
                4px 4px 8px rgba(0, 0, 0, 0.3),
                -4px -4px 8px rgba(255, 255, 255, 0.1);
        }
        
        .card-button:hover {
            transform: translateY(-2px);
            box-shadow: 
                6px 6px 12px rgba(0, 0, 0, 0.4),
                -6px -6px 12px rgba(255, 255, 255, 0.15);
        }
        
        .input-section {
            background: rgba(58, 61, 92, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
        }
        
        .input-section-fixed {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(58, 61, 92, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 1rem;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 600px;
            width: 90%;
        }
        
        .input-group {
            display: flex;
            position: relative;
            align-items: center;
        }
        
        .question-input {
            flex: 1;
            background: rgba(44, 47, 72, 0.6);
            border: none;
            border-radius: 15px;
            padding: 15px 60px 15px 20px;
            color: #c1c3e0;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.3),
                inset -4px -4px 8px rgba(255, 255, 255, 0.1);
        }
        
        .question-input::placeholder {
            color: white;
        }
        
        .ask-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border: none;
            border-radius: 10px;
            color: white;
            padding: 8px 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                2px 2px 4px rgba(0, 0, 0, 0.3),
                -2px -2px 4px rgba(255, 255, 255, 0.1);
        }
        
        .ask-button:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 
                3px 3px 6px rgba(0, 0, 0, 0.4),
                -3px -3px 6px rgba(255, 255, 255, 0.15);
        }
        
        .response-area {
            background: rgba(58, 61, 92, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 2rem 0;
            box-shadow: 
                inset 8px 8px 16px rgba(0, 0, 0, 0.3),
                inset -8px -8px 16px rgba(255, 255, 255, 0.1);
            min-height: 300px;
            max-height: calc(100dvh - 400px);
            overflow-y: auto;
            font-size: 1rem;
        }
        
        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .response-area::-webkit-scrollbar {
            width: 8px;
        }
        
        .response-area::-webkit-scrollbar-track {
            background: rgba(44, 47, 72, 0.3);
            border-radius: 10px;
        }
        
        .response-area::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .response-area::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #818cf8, #a78bfa);
        }
        
        /* Firefoxìš© ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .response-area {
            scrollbar-width: thin;
            scrollbar-color: #6366f1 rgba(44, 47, 72, 0.3);
        }
        
        .chat-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .chat-message {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            animation: fadeInUp 0.3s ease-out;
        }
        
        .chat-message.user {
            justify-content: flex-end;
        }
        
        .chat-message.ai {
            justify-content: flex-start;
        }
        
        .message-bubble {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.6;
            word-wrap: break-word;
        }
        
        .message-bubble.user {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message-bubble.ai {
            background: linear-gradient(135deg, #ffffff, #f3f4f6);
            color: #1f2937;
            border: 1px solid rgba(209, 213, 219, 0.3);
            border-bottom-left-radius: 4px;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .message-avatar.user {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .message-avatar.ai {
            background: linear-gradient(135deg, #ffffff, #f3f4f6);
            color: #1f2937;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            font-size: 1.1rem;
            color: #c1c3e0;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        
        .status-indicator-floating {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(58, 61, 92, 0.9);
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .floating-login-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pulse-dot {
            width: 10px;
            height: 10px;
            background: #ffffff;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
        }
        
        .status-text {
            color: #e2e8f0;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        
        .student-login-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 25px;
            color: white;
            padding: 12px 24px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .student-login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 
                12px 12px 24px rgba(0, 0, 0, 0.4),
                -12px -12px 24px rgba(255, 255, 255, 0.15),
                0 0 20px rgba(16, 185, 129, 0.3);
        }
        
        .admin-login-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            color: white;
            padding: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(20px);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
        }
        
        .admin-login-btn:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 
                12px 12px 24px rgba(0, 0, 0, 0.4),
                -12px -12px 24px rgba(255, 255, 255, 0.15),
                0 0 20px rgba(255, 255, 255, 0.2);
        }
        
        .mode-selector {
            display: flex;
            gap: 60px;
            justify-content: center;
            margin: 5px 0;
        }
        
        .mode-btn {
            background: rgba(58, 61, 92, 0.8);
            border: none;
            border-radius: 20px;
            color: #c1c3e0;
            padding: 8px 24px;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3), 
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 
                12px 12px 24px rgba(0, 0, 0, 0.4), 
                -12px -12px 24px rgba(255, 255, 255, 0.15);
        }
        
        .mode-btn.active {
            background: rgba(58, 61, 92, 0.8);
            color: transparent;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(135deg, #8b9cf7 0%, #9d7bf0 50%, #f5a5fc 100%);
            box-shadow: 
                inset 8px 8px 16px rgba(0, 0, 0, 0.3),
                inset -8px -8px 16px rgba(255, 255, 255, 0.1);
            transform: translateY(2px);
        }
        
        .mode-btn.active:hover {
            transform: translateY(2px);
            box-shadow: 
                inset 8px 8px 16px rgba(0, 0, 0, 0.3),
                inset -8px -8px 16px rgba(255, 255, 255, 0.1);
        }
        
        @keyframes pulse {
            0% { 
                opacity: 1; 
                transform: scale(1);
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
            }
            50% { 
                opacity: 0.3; 
                transform: scale(1.2);
                box-shadow: 0 0 25px rgba(255, 255, 255, 1), 0 0 50px rgba(255, 255, 255, 0.6);
            }
            100% { 
                opacity: 1; 
                transform: scale(1);
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
            }
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: rgba(44, 47, 72, 0.95);
            backdrop-filter: blur(20px);
            margin: 15% auto;
            padding: 30px;
            border-radius: 20px;
            width: 400px;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.1);
        }
        
        .modal-title {
            color: #c1c3e0;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .modal-input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 15px;
            background: rgba(44, 47, 72, 0.6);
            color: #c1c3e0;
            font-size: 1rem;
            margin-bottom: 20px;
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.3),
                inset -4px -4px 8px rgba(255, 255, 255, 0.1);
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }
        
        .modal-btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }
        
        .modal-btn-secondary {
            background: rgba(44, 47, 72, 0.8);
            color: #c1c3e0;
        }
        
        .modal-btn:hover {
            transform: translateY(-2px);
        }
        /* ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .admin-mode-btn {
            background: rgba(58, 61, 92, 0.8);
            border: none;
            border-radius: 20px;
            color: #c1c3e0;
            padding: 8px 24px;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3), 
                -8px -8px 16px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .admin-mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 
                12px 12px 24px rgba(0, 0, 0, 0.4), 
                -12px -12px 24px rgba(255, 255, 255, 0.15);
        }
        
        .admin-mode-btn:active {
            transform: translateY(2px);
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.3),
                inset -4px -4px 8px rgba(255, 255, 255, 0.1);
        }
        
        .admin-mode-btn.active {
            background-image: linear-gradient(135deg, #818cf8, #a78bfa);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.3),
                inset -4px -4px 8px rgba(255, 255, 255, 0.1);
            transform: translateY(2px);
        }
        
    </style>
</head>
<body>
    <div class="container">
        <!-- ìƒíƒœ í‘œì‹œì°½ (ë°°ê²½ì— ê³ ì •) -->
        <div class="status-indicator-floating">
            <div class="pulse-dot"></div>
            <span class="status-text">ì¤€ë¹„ì™„ë£Œ</span>
        </div>
        
         <!-- í”Œë¡œíŒ… ë¡œê·¸ì¸ ë²„íŠ¼ë“¤ -->
         <div class="floating-login-buttons" id="login-buttons">
             <button class="student-login-btn" onclick="studentLogin()">ë¡œê·¸ì¸</button>
             <button class="admin-login-btn" title="ê´€ë¦¬ì ë¡œê·¸ì¸" onclick="adminLogin()">âš™ï¸</button>
         </div>
         
         <!-- ê´€ë¦¬ì ëª¨ë“œ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ (ìˆ¨ê¹€) -->
         <div class="floating-login-buttons" id="admin-logout-buttons" style="display: none;">
             <button class="admin-login-btn" title="ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ" onclick="adminLogout()">ğŸšª</button>
         </div>
        
        
        <!-- í—¤ë” -->
        <div class="header">
            <h1 class="title gradient-text">LEES AI Teacher</h1>
            <p class="subtitle">ì§ˆë¬¸ì€ ì²œì¬ë“¤ì´ ì¦ê²¨ì“°ëŠ” ê³µë¶€ë°©ë²•ì´ë‹¤!</p>
        </div>
        
        <!-- ëª¨ë“œ ì„ íƒ -->
        <div class="input-section">
            <h3 style="color: #c1c3e0; margin-bottom: 20px; font-weight: 600; font-size: 1.2rem; text-align: center;">
                ì§ˆë¬¸ ëª¨ë“œ ì„ íƒ
            </h3>
            <div class="mode-selector">
                <button class="mode-btn" onclick="selectMode('grammar', this)">ë¬¸ë²• í•™ìŠµ</button>
                <button class="mode-btn" onclick="selectMode('sentence', this)">ë¬¸ì¥ ë¶„ì„</button>
                <button class="mode-btn" onclick="selectMode('passage', this)">ì§€ë¬¸ ì„¤ëª…</button>
            </div>
        </div>
        
        <!-- ì‘ë‹µ ì˜ì—­ -->
        <div class="response-area" id="response-area">
            <div class="empty-state">
                ğŸ’¬ ì•„ì§ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ì§ˆë¬¸ì„ ì…ë ¥í•´ë³´ì„¸ìš”!
            </div>
        </div>
        
    </div>
    
    <!-- ì§ˆë¬¸í•˜ê¸° ì„¹ì…˜ (ê³ ì •) -->
    <div class="input-section-fixed">
        <div class="input-group">
            <input type="text" id="question-input" class="question-input" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
            <button class="ask-button" onclick="askQuestion()">â–¶</button>
        </div>
    </div>
    
    <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">ê´€ë¦¬ì ë¡œê·¸ì¸</h2>
            <input type="password" id="adminPassword" class="modal-input" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-primary" id="modal-login-btn" onclick="checkPassword()">ë¡œê·¸ì¸</button>
                <button class="modal-btn modal-btn-secondary" id="modal-cancel-btn" onclick="closeModal()">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
    
    <script>
        console.log('JavaScript ì‹œì‘ë¨');
        
        let currentMode = null;
        let isAdminMode = false;
        
        // ì „ì—­ í•¨ìˆ˜ ì •ì˜ í™•ì¸
        console.log('ì „ì—­ í•¨ìˆ˜ ì •ì˜ ì‹œì‘...');
        
        // ëª¨ë“œ ì„ íƒ (ì „ì—­ í•¨ìˆ˜)
        window.selectMode = function(mode, button) {
            console.log('selectMode í•¨ìˆ˜ í˜¸ì¶œë¨:', mode);
            // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            if (button) {
                button.classList.add('active');
            }
            currentMode = mode;
            console.log('ì„ íƒëœ ëª¨ë“œ:', mode);
        }
        
        // ëª¨ë“œ ì‹œì‘ (ì¹´ë“œ ë²„íŠ¼ ì œê±°ë¡œ ì¸í•´ í•¨ìˆ˜ ë‹¨ìˆœí™”)
        function startMode(mode) {
            selectMode(mode, document.querySelector(`[onclick="selectMode('${mode}', this)"]`));
            document.getElementById('question-input').focus();
        }
        
        // ì§ˆë¬¸í•˜ê¸° (ì „ì—­ í•¨ìˆ˜)
        window.askQuestion = function() {
            console.log('askQuestion í•¨ìˆ˜ í˜¸ì¶œë¨');
            const question = document.getElementById('question-input').value;
            if (!question.trim()) {
                alert('ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            if (!currentMode) {
                alert('í•™ìŠµ ëª¨ë“œë¥¼ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            // ì±„íŒ… ë©”ì‹œì§€ ì¶”ê°€
            addChatMessage('user', question);
            
            // MAIC ëª¨ë“œë³„ ì‘ë‹µ ìƒì„±
            const response = generateMAICResponse(currentMode, question);
            
            // AI ì‘ë‹µì„ ì•½ê°„ì˜ ë”œë ˆì´ í›„ ì¶”ê°€ (íƒ€ì´í•‘ íš¨ê³¼)
            setTimeout(() => {
                addChatMessage('ai', response);
            }, 500);
            
            // ì…ë ¥ì°½ ì´ˆê¸°í™”
            document.getElementById('question-input').value = '';
        }
        
        // ì±„íŒ… ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
        function addChatMessage(sender, message) {
            const responseArea = document.getElementById('response-area');
            
            // ì²« ë²ˆì§¸ ë©”ì‹œì§€ì¸ ê²½ìš° empty-state ì œê±°
            if (responseArea.querySelector('.empty-state')) {
                responseArea.innerHTML = '<div class="chat-container"></div>';
            }
            
            const chatContainer = responseArea.querySelector('.chat-container');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = `message-avatar ${sender}`;
            avatar.textContent = sender === 'user' ? 'ğŸ‘¤' : 'ğŸ“';
            
            const bubble = document.createElement('div');
            bubble.className = `message-bubble ${sender}`;
            bubble.textContent = message;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(bubble);
            chatContainer.appendChild(messageDiv);
            
            // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ
            responseArea.scrollTop = responseArea.scrollHeight;
        }
        
        // MAIC ì‘ë‹µ ìƒì„± (ì‹¤ì œ MAIC ë¡œì§ ì‹œë®¬ë ˆì´ì…˜)
        function generateMAICResponse(mode, question) {
            const modeNames = {
                'grammar': 'ë¬¸ë²• í•™ìŠµ',
                'sentence': 'ë¬¸ì¥ ë¶„ì„',
                'passage': 'ì§€ë¬¸ ì„¤ëª…'
            };
            
            const responses = {
                'grammar': `**ëª¨ë“œ**: ${modeNames[mode]}
**ë¼ë²¨**: [AIì§€ì‹]

**ìƒì„±ëœ í”„ë¡¬í”„íŠ¸**:
# ë¬¸ë²•ì„¤ëª… â€” ë¬¸ë²•í•™ìŠµ

**ëª¨ë“œ**: grammar  |  **ë¼ë²¨**: [AIì§€ì‹]

## ì§ˆì˜
${question}

## ì˜ë„/ëª©í‘œ
í•µì‹¬ ê·œì¹™ê³¼ ì˜ˆì™¸ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ì„¤ëª…

## ì¶œë ¥ ìŠ¤í‚¤ë§ˆ(ì„¹ì…˜ ìˆœì„œ ê³ ì •)
1. í•µì‹¬ ê·œì¹™
2. ê·¼ê±°/ì¶œì²˜
3. ì˜ˆë¬¸
4. ì—­ì˜ˆë¬¸(ì„ íƒ)
5. í•œ ì¤„ ìš”ì•½

> ìœ„ ìŠ¤í‚¤ë§ˆë¥¼ **ìˆœì„œëŒ€ë¡œ** ì¤€ìˆ˜í•˜ê³ , ê° ì„¹ì…˜ì€ ê°„ê²°í•œ ì†Œì œëª©ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”.

**ì„¹ì…˜ ìˆœì„œ**:
1. í•µì‹¬ ê·œì¹™
2. ê·¼ê±°/ì¶œì²˜
3. ì˜ˆë¬¸
4. ì—­ì˜ˆë¬¸(ì„ íƒ)
5. í•œ ì¤„ ìš”ì•½

**ì»¨í…ìŠ¤íŠ¸ ì¡°ê° ìˆ˜**: 0`,
                
                'sentence': `**ëª¨ë“œ**: ${modeNames[mode]}
**ë¼ë²¨**: [AIì§€ì‹]

**ìƒì„±ëœ í”„ë¡¬í”„íŠ¸**:
# ë¬¸ì¥ë¶„ì„ â€” ë¬¸ì¥ë¶„ì„

**ëª¨ë“œ**: sentence  |  **ë¼ë²¨**: [AIì§€ì‹]

## ì§ˆì˜
${question}

## ì˜ë„/ëª©í‘œ
ë¬¸ì¥ êµ¬ì¡°(S/V/O, ìˆ˜ì‹ì–´, ì ˆÂ·êµ¬ë¬¸)ë¥¼ "ê´„í˜¸ ê·œì¹™"ê³¼ "ê´„í˜¸ ê·œì¹™ ë¼ë²¨ í‘œì¤€"ì— ë”°ë¼ ì„¤ëª…

## ê´„í˜¸ ê·œì¹™ ë¼ë²¨ í‘œì¤€
ë¼ë²¨: [S ì£¼ì–´] [V ë™ì‚¬] [O ëª©ì ì–´] [C ë³´ì–´] [M ë¶€ê°€]
ì˜ˆì‹œ: [S I] [V stayed] [M at home]

## ì¶œë ¥ ìŠ¤í‚¤ë§ˆ(ì„¹ì…˜ ìˆœì„œ ê³ ì •)
1. ì›ë¬¸
2. êµ¬ì¡° ë¶„ì„(ê´„í˜¸ ê·œì¹™)
3. ì–´íœ˜Â·í‘œí˜„
4. í•´ì„
5. ìš”ì•½
6. ê·¼ê±°/ì¶œì²˜

> ìœ„ ìŠ¤í‚¤ë§ˆë¥¼ **ìˆœì„œëŒ€ë¡œ** ì¤€ìˆ˜í•˜ê³ , ê° ì„¹ì…˜ì€ ê°„ê²°í•œ ì†Œì œëª©ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”.

**ì„¹ì…˜ ìˆœì„œ**:
1. ì›ë¬¸
2. êµ¬ì¡° ë¶„ì„(ê´„í˜¸ ê·œì¹™)
3. ì–´íœ˜Â·í‘œí˜„
4. í•´ì„
5. ìš”ì•½
6. ê·¼ê±°/ì¶œì²˜

**ì»¨í…ìŠ¤íŠ¸ ì¡°ê° ìˆ˜**: 0`,
                
                'passage': `**ëª¨ë“œ**: ${modeNames[mode]}
**ë¼ë²¨**: [AIì§€ì‹]

**ìƒì„±ëœ í”„ë¡¬í”„íŠ¸**:
# ì§€ë¬¸ì„¤ëª… â€” ì§€ë¬¸ì„¤ëª…

**ëª¨ë“œ**: passage  |  **ë¼ë²¨**: [AIì§€ì‹]

## ì§ˆì˜
${question}

## ì˜ë„/ëª©í‘œ
ì§€ë¬¸ì˜ í•µì‹¬ ìš”ì§€ë¥¼ ì‰¬ìš´ ì˜ˆì‹œë¡œ ì„¤ëª…í•˜ê³  ì£¼ì œ/ì œëª©ì„ ì •ë¦¬

## ì¶œë ¥ ìŠ¤í‚¤ë§ˆ(ì„¹ì…˜ ìˆœì„œ ê³ ì •)
1. ìš”ì§€/ì£¼ì œ
2. ì‰¬ìš´ ì˜ˆì‹œ/ë¹„ìœ 
3. ì œëª©
4. ì˜¤ë‹µ í¬ì¸íŠ¸(ì„ íƒ)
5. ê·¼ê±°/ì¶œì²˜

> ìœ„ ìŠ¤í‚¤ë§ˆë¥¼ **ìˆœì„œëŒ€ë¡œ** ì¤€ìˆ˜í•˜ê³ , ê° ì„¹ì…˜ì€ ê°„ê²°í•œ ì†Œì œëª©ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”.

**ì„¹ì…˜ ìˆœì„œ**:
1. ìš”ì§€/ì£¼ì œ
2. ì‰¬ìš´ ì˜ˆì‹œ/ë¹„ìœ 
3. ì œëª©
4. ì˜¤ë‹µ í¬ì¸íŠ¸(ì„ íƒ)
5. ê·¼ê±°/ì¶œì²˜

**ì»¨í…ìŠ¤íŠ¸ ì¡°ê° ìˆ˜**: 0`
            };
            
            return responses[mode] || 'ì•Œ ìˆ˜ ì—†ëŠ” ëª¨ë“œì…ë‹ˆë‹¤.';
        }
        
        // í•™ìƒ ë¡œê·¸ì¸ (ì „ì—­ í•¨ìˆ˜)
        window.studentLogin = function() {
            alert('í•™ìƒ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤!');
        }
        
        // ê´€ë¦¬ì ë¡œê·¸ì¸ (ì „ì—­ í•¨ìˆ˜)
        window.adminLogin = function() {
            console.log('adminLogin í•¨ìˆ˜ í˜¸ì¶œë¨');
            const modal = document.getElementById('passwordModal');
            console.log('ëª¨ë‹¬ ìš”ì†Œ:', modal);
            if (modal) {
                modal.style.display = 'block';
                console.log('ëª¨ë‹¬ display ì„¤ì •ë¨:', modal.style.display);
                document.getElementById('adminPassword').focus();
            } else {
                console.log('ëª¨ë‹¬ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
            }
        }
        
        // ëª¨ë‹¬ ë‹«ê¸° (ì „ì—­ í•¨ìˆ˜)
        window.closeModal = function() {
            document.getElementById('passwordModal').style.display = 'none';
            document.getElementById('adminPassword').value = '';
        }
        
        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ (ì „ì—­ í•¨ìˆ˜)
        window.checkPassword = function() {
            const password = document.getElementById('adminPassword').value;
            if (password === 'admin123') {
                isAdminMode = true;
                closeModal();
                alert('ê´€ë¦¬ì ëª¨ë“œë¡œ ì§„ì…í–ˆìŠµë‹ˆë‹¤!');
                showAdminMode();
            } else {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤!');
            }
        }
        
         // ê´€ë¦¬ì ëª¨ë“œ í‘œì‹œ
         function showAdminMode() {
             // ìƒíƒœ í‘œì‹œê¸°ë¥¼ ê´€ë¦¬ì ëª¨ë“œë¡œ ë³€ê²½
             const statusText = document.querySelector('.status-text');
             if (statusText) {
                 statusText.textContent = 'ê´€ë¦¬ì ëª¨ë“œ';
             }
             
             // í—¤ë” ì œëª© ë³€ê²½
             const title = document.querySelector('.title');
             if (title) {
                 title.innerHTML = 'LEES AI Teacher - ê´€ë¦¬ì íŒ¨ë„';
             }
             
             // ëª¨ë“œ ì„ íƒ ì˜ì—­ì„ ê´€ë¦¬ì ëª¨ë“œë¡œ ë³€ê²½
             const modeSelectorTitle = document.querySelector('.input-section h3');
             if (modeSelectorTitle) {
                 modeSelectorTitle.textContent = 'ê´€ë¦¬ ê¸°ëŠ¥ ì„ íƒ';
             }
             
             const modeSelectorContainer = document.querySelector('.mode-selector');
             if (modeSelectorContainer) {
                 modeSelectorContainer.innerHTML = `
                     <button class="mode-btn admin-mode-btn" data-action="user-management">ì‚¬ìš©ì ê´€ë¦¬</button>
                     <button class="mode-btn admin-mode-btn" data-action="system-settings">ì‹œìŠ¤í…œ ì„¤ì •</button>
                     <button class="mode-btn admin-mode-btn" data-action="statistics">í†µê³„ ë¶„ì„</button>
                 `;
                 
                 // ê´€ë¦¬ì ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                 const adminBtns = modeSelectorContainer.querySelectorAll('.admin-mode-btn');
                 adminBtns.forEach(btn => {
                     const action = btn.getAttribute('data-action');
                     btn.addEventListener('click', () => {
                         if (action === 'user-management') adminUserManagement();
                         else if (action === 'system-settings') adminSystemSettings();
                         else if (action === 'statistics') adminStatistics();
                     });
                 });
             }
             
             // ë¡œê·¸ì¸ ë²„íŠ¼ì„ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½
             document.getElementById('login-buttons').style.display = 'none';
             document.getElementById('admin-logout-buttons').style.display = 'flex';
             
             // ì‘ë‹µì°½ì„ ê´€ë¦¬ì ëª¨ë“œë¡œ ë³€ê²½
             const responseArea = document.getElementById('response-area');
             responseArea.innerHTML = `
                 <div class="empty-state">
                     <div class="message-avatar ai">ğŸ“</div>
                     <p>ê´€ë¦¬ì ëª¨ë“œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!<br>ìœ„ì˜ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                 </div>
             `;
         }
        
         // ì¼ë°˜ ëª¨ë“œë¡œ ëŒì•„ê°€ê¸°
         function showUserMode() {
             isAdminMode = false;
             
             // ìƒíƒœ í‘œì‹œê¸°ë¥¼ ì¼ë°˜ ëª¨ë“œë¡œ ë³€ê²½
             const statusText = document.querySelector('.status-text');
             if (statusText) {
                 statusText.textContent = 'ì¤€ë¹„ì™„ë£Œ';
             }
             
             // í—¤ë” ì œëª© ë³€ê²½
             const title = document.querySelector('.title');
             if (title) {
                 title.innerHTML = 'LEES AI Teacher';
             }
             
             // ëª¨ë“œ ì„ íƒ ì˜ì—­ì„ ì¼ë°˜ ëª¨ë“œë¡œ ë³€ê²½
             const modeSelectorTitle = document.querySelector('.input-section h3');
             if (modeSelectorTitle) {
                 modeSelectorTitle.textContent = 'ì§ˆë¬¸ ëª¨ë“œ ì„ íƒ';
             }
             
             const modeSelectorContainer = document.querySelector('.mode-selector');
             if (modeSelectorContainer) {
                 modeSelectorContainer.innerHTML = `
                     <button class="mode-btn">ë¬¸ë²• í•™ìŠµ</button>
                     <button class="mode-btn">ë¬¸ì¥ ë¶„ì„</button>
                     <button class="mode-btn">ì§€ë¬¸ ì„¤ëª…</button>
                 `;
                 
                 // ì¼ë°˜ ëª¨ë“œ ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                 const userBtns = modeSelectorContainer.querySelectorAll('.mode-btn');
                 userBtns.forEach(btn => {
                     if (btn.textContent.includes('ë¬¸ë²•')) {
                         btn.addEventListener('click', () => selectMode('grammar', btn));
                     } else if (btn.textContent.includes('ë¬¸ì¥')) {
                         btn.addEventListener('click', () => selectMode('sentence', btn));
                     } else if (btn.textContent.includes('ì§€ë¬¸')) {
                         btn.addEventListener('click', () => selectMode('passage', btn));
                     }
                 });
             }
             
             // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ ë¡œê·¸ì¸ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½
             document.getElementById('login-buttons').style.display = 'flex';
             document.getElementById('admin-logout-buttons').style.display = 'none';
             
             // ì‘ë‹µì°½ì„ ì¼ë°˜ ëª¨ë“œë¡œ ë³€ê²½
             const responseArea = document.getElementById('response-area');
             responseArea.innerHTML = '<div class="empty-state">ğŸ’¬ ì•„ì§ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ì§ˆë¬¸ì„ ì…ë ¥í•´ë³´ì„¸ìš”!</div>';
         }
        
         // ê´€ë¦¬ì ê¸°ëŠ¥ë“¤
         function adminUserManagement() {
             // ë²„íŠ¼ í™œì„±í™” íš¨ê³¼
             setActiveAdminButton('ì‚¬ìš©ì ê´€ë¦¬');
             
             // ì‘ë‹µì°½ì— ì‚¬ìš©ì ê´€ë¦¬ ì •ë³´ í‘œì‹œ
             const responseArea = document.getElementById('response-area');
             responseArea.innerHTML = `
                 <div class="chat-container">
                     <div class="chat-message admin">
                         <div class="message-avatar admin">ğŸ‘¤</div>
                         <div class="message-bubble admin">
                             <h4>ì‚¬ìš©ì ê´€ë¦¬</h4>
                             <p>â€¢ ì„¸ì…˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§</p>
                             <p>â€¢ ê´€ë¦¬ì ê¶Œí•œ ê´€ë¦¬</p>
                             <p>â€¢ ì‚¬ìš©ì í™œë™ ë¡œê·¸</p>
                             <p>â€¢ ì„¸ì…˜ ì´ˆê¸°í™”</p>
                             <div style="margin-top: 15px;">
                                 <button class="admin-mode-btn" data-action="clear-sessions" style="margin-right: 10px;">ì„¸ì…˜ ì´ˆê¸°í™”</button>
                                 <button class="admin-mode-btn" data-action="view-logs">í™œë™ ë¡œê·¸</button>
                             </div>
                         </div>
                     </div>
                 </div>
             `;
             
             // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
             setTimeout(attachAdminButtonListeners, 100);
         }
        
        function adminSystemSettings() {
             // ë²„íŠ¼ í™œì„±í™” íš¨ê³¼
             setActiveAdminButton('ì‹œìŠ¤í…œ ì„¤ì •');
             
             // ì‘ë‹µì°½ì— ì‹œìŠ¤í…œ ì„¤ì • ì •ë³´ í‘œì‹œ
             const responseArea = document.getElementById('response-area');
             responseArea.innerHTML = `
                 <div class="chat-container">
                     <div class="chat-message admin">
                         <div class="message-avatar admin">âš™ï¸</div>
                         <div class="message-bubble admin">
                             <h4>ì‹œìŠ¤í…œ ì„¤ì •</h4>
                             <p>â€¢ ì¸ë±ìŠ¤ ë³µì› ë° ê´€ë¦¬</p>
                             <p>â€¢ ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§</p>
                             <p>â€¢ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬</p>
                             <p>â€¢ ì„±ëŠ¥ ìµœì í™”</p>
                             <div style="margin-top: 15px;">
                                 <button class="admin-mode-btn" data-action="restore-index" style="margin-right: 10px;">ì¸ë±ìŠ¤ ë³µì›</button>
                                 <button class="admin-mode-btn" data-action="refresh-status" style="margin-right: 10px;">ìƒíƒœ ìƒˆë¡œê³ ì¹¨</button>
                                 <button class="admin-mode-btn" data-action="manage-prompts">í”„ë¡¬í”„íŠ¸ ê´€ë¦¬</button>
                             </div>
                         </div>
                     </div>
                 </div>
             `;
             
             // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
             setTimeout(attachAdminButtonListeners, 100);
         }
        
        function adminStatistics() {
             // ë²„íŠ¼ í™œì„±í™” íš¨ê³¼
             setActiveAdminButton('í†µê³„ ë¶„ì„');
             
             // ì‘ë‹µì°½ì— í†µê³„ ì •ë³´ í‘œì‹œ
             const responseArea = document.getElementById('response-area');
             responseArea.innerHTML = `
                 <div class="chat-container">
                     <div class="chat-message admin">
                         <div class="message-avatar admin">ğŸ“Š</div>
                         <div class="message-bubble admin">
                             <h4>í†µê³„ ë° ë¶„ì„</h4>
                             <p>â€¢ ì¸ë±ìŠ¤ ìƒíƒœ ë¶„ì„</p>
                             <p>â€¢ ì‹œìŠ¤í…œ ì„±ëŠ¥ ì§€í‘œ</p>
                             <p>â€¢ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§</p>
                             <p>â€¢ ì˜¤ë¥˜ ë¡œê·¸ ë¶„ì„</p>
                             <div style="margin-top: 15px;">
                                 <button class="admin-mode-btn" data-action="view-metrics" style="margin-right: 10px;">ì‹œìŠ¤í…œ ì§€í‘œ</button>
                                 <button class="admin-mode-btn" data-action="view-errors" style="margin-right: 10px;">ì˜¤ë¥˜ ë¡œê·¸</button>
                                 <button class="admin-mode-btn" data-action="export-stats">í†µê³„ ë‚´ë³´ë‚´ê¸°</button>
                             </div>
                         </div>
                     </div>
                 </div>
             `;
             
             // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
             setTimeout(attachAdminButtonListeners, 100);
         }
        
        // ê´€ë¦¬ì ë²„íŠ¼ í™œì„±í™” íš¨ê³¼
        function setActiveAdminButton(buttonText) {
            // ëª¨ë“  ê´€ë¦¬ì ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const adminButtons = document.querySelectorAll('.admin-mode-btn');
            adminButtons.forEach(btn => btn.classList.remove('active'));
            
            // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            adminButtons.forEach(btn => {
                if (btn.textContent === buttonText) {
                    btn.classList.add('active');
                }
            });
        }
        
         // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ (ì „ì—­ í•¨ìˆ˜)
         window.adminLogout = function() {
             if (confirm('ê´€ë¦¬ì ëª¨ë“œì—ì„œ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                 showUserMode();
             }
         }
         
         // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ê´€ë¦¬ì ë²„íŠ¼ë“¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
         function attachAdminButtonListeners() {
             const adminBtns = document.querySelectorAll('.admin-mode-btn[data-action]');
             adminBtns.forEach(btn => {
                 const action = btn.getAttribute('data-action');
                 btn.addEventListener('click', () => {
                     switch(action) {
                         case 'clear-sessions':
                             clearUserSessions();
                             break;
                         case 'view-logs':
                             viewUserLogs();
                             break;
                         case 'restore-index':
                             restoreIndex();
                             break;
                         case 'refresh-status':
                             refreshSystemStatus();
                             break;
                         case 'manage-prompts':
                             managePrompts();
                             break;
                         case 'view-metrics':
                             viewSystemMetrics();
                             break;
                         case 'view-errors':
                             viewErrorLogs();
                             break;
                         case 'export-stats':
                             exportStatistics();
                             break;
                     }
                 });
             });
         }
         
         // ì‹¤ì œ MAIC ê´€ë¦¬ì ê¸°ëŠ¥ë“¤
         function clearUserSessions() {
             addChatMessage('ai', 'ì„¸ì…˜ ì´ˆê¸°í™”ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...\n\nâ€¢ ëª¨ë“  ì‚¬ìš©ì ì„¸ì…˜ ì •ë¦¬\nâ€¢ ìºì‹œ ë°ì´í„° ì‚­ì œ\nâ€¢ ë©”ëª¨ë¦¬ ìµœì í™”\n\nâœ… ì„¸ì…˜ ì´ˆê¸°í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
         }
         
         function viewUserLogs() {
             addChatMessage('ai', 'ì‚¬ìš©ì í™œë™ ë¡œê·¸:\n\nğŸ“Š ìµœê·¼ í™œë™:\nâ€¢ ë¬¸ë²• í•™ìŠµ: 45íšŒ\nâ€¢ ë¬¸ì¥ ë¶„ì„: 32íšŒ\nâ€¢ ì§€ë¬¸ ì„¤ëª…: 28íšŒ\n\nâ° í™œì„± ì„¸ì…˜: 3ê°œ\nğŸ‘¥ ë™ì‹œ ì‚¬ìš©ì: 12ëª…\n\nğŸ“ˆ ì˜¤ëŠ˜ ì´ ì§ˆë¬¸ ìˆ˜: 105ê°œ');
         }
         
         function restoreIndex() {
             addChatMessage('ai', 'ì¸ë±ìŠ¤ ë³µì›ì„ ì‹œì‘í•©ë‹ˆë‹¤...\n\nğŸ”„ ì§„í–‰ ë‹¨ê³„:\n1. ìµœì‹  ì¸ë±ìŠ¤ ë‹¤ìš´ë¡œë“œ\n2. ë¡œì»¬ ì¸ë±ìŠ¤ ë°±ì—…\n3. ìƒˆ ì¸ë±ìŠ¤ ì ìš©\n4. ê²€ì¦ ë° í…ŒìŠ¤íŠ¸\n\nâœ… ì¸ë±ìŠ¤ ë³µì›ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nğŸ“Š ë³µì›ëœ íŒŒì¼: 1,247ê°œ');
         }
         
         function refreshSystemStatus() {
             addChatMessage('ai', 'ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤...\n\nğŸ“Š í˜„ì¬ ìƒíƒœ:\nâ€¢ ì¸ë±ìŠ¤ ìƒíƒœ: ì¤€ë¹„ì™„ë£Œ âœ…\nâ€¢ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: 68%\nâ€¢ CPU ì‚¬ìš©ëŸ‰: 23%\nâ€¢ ë””ìŠ¤í¬ ê³µê°„: 2.1GB ì‚¬ìš©\n\nğŸ”§ ì‹œìŠ¤í…œ ìƒíƒœ: ì •ìƒ');
         }
         
         function managePrompts() {
             addChatMessage('ai', 'í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ íŒ¨ë„:\n\nğŸ“ í™œì„± í”„ë¡¬í”„íŠ¸:\nâ€¢ ë¬¸ë²•í•™ìŠµ: 15ê°œ\nâ€¢ ë¬¸ì¥ë¶„ì„: 12ê°œ\nâ€¢ ì§€ë¬¸ì„¤ëª…: 18ê°œ\n\nâš™ï¸ ê´€ë¦¬ ì˜µì…˜:\nâ€¢ í”„ë¡¬í”„íŠ¸ í¸ì§‘\nâ€¢ ìƒˆ í”„ë¡¬í”„íŠ¸ ì¶”ê°€\nâ€¢ ì„±ëŠ¥ ìµœì í™”\nâ€¢ ë°±ì—… ë° ë³µì›');
         }
         
         function viewSystemMetrics() {
             addChatMessage('ai', 'ì‹œìŠ¤í…œ ì„±ëŠ¥ ì§€í‘œ:\n\nğŸ“ˆ ì„±ëŠ¥ ë©”íŠ¸ë¦­:\nâ€¢ í‰ê·  ì‘ë‹µ ì‹œê°„: 1.2ì´ˆ\nâ€¢ ì²˜ë¦¬ëŸ‰: 45 QPS\nâ€¢ ê°€ìš©ì„±: 99.8%\nâ€¢ ì˜¤ë¥˜ìœ¨: 0.02%\n\nğŸ’¾ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰:\nâ€¢ ë©”ëª¨ë¦¬: 2.1GB / 4GB\nâ€¢ CPU: 23% í‰ê· \nâ€¢ ë„¤íŠ¸ì›Œí¬: 15MB/s');
         }
         
         function viewErrorLogs() {
             addChatMessage('ai', 'ì˜¤ë¥˜ ë¡œê·¸ ë¶„ì„:\n\nğŸš¨ ìµœê·¼ ì˜¤ë¥˜:\nâ€¢ 2025-01-07 18:15: ì¸ë±ìŠ¤ ë¡œë”© ì§€ì—° (í•´ê²°ë¨)\nâ€¢ 2025-01-07 17:42: ë©”ëª¨ë¦¬ ë¶€ì¡± ê²½ê³  (í•´ê²°ë¨)\nâ€¢ 2025-01-07 16:30: ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ (í•´ê²°ë¨)\n\nâœ… í˜„ì¬ ìƒíƒœ: ëª¨ë“  ì˜¤ë¥˜ í•´ê²°ë¨\nğŸ“Š ì˜¤ë¥˜ìœ¨: 0.02% (ì •ìƒ ë²”ìœ„)');
         }
         
         function exportStatistics() {
             addChatMessage('ai', 'í†µê³„ ë°ì´í„° ë‚´ë³´ë‚´ê¸°:\n\nğŸ“Š ë‚´ë³´ë‚¼ ë°ì´í„°:\nâ€¢ ì‚¬ìš©ì í™œë™ í†µê³„\nâ€¢ ì‹œìŠ¤í…œ ì„±ëŠ¥ ì§€í‘œ\nâ€¢ ì˜¤ë¥˜ ë¡œê·¸ ìš”ì•½\nâ€¢ ì¸ë±ìŠ¤ ìƒíƒœ ë³´ê³ ì„œ\n\nğŸ’¾ í˜•ì‹: JSON, CSV, PDF\nğŸ“ ì €ì¥ ìœ„ì¹˜: /admin/exports/\n\nâœ… í†µê³„ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤.');
         }
        
        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('passwordModal');
            if (event.target === modal) {
                closeModal();
            }
        }
        
        // Enter í‚¤ë¡œ ë¡œê·¸ì¸
        document.getElementById('adminPassword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
        
        // ì§ˆë¬¸ ì…ë ¥ì—ì„œ Enter í‚¤ ì§€ì›
        document.getElementById('question-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                askQuestion();
            }
        });
        
        // ê´€ë¦¬ì ëª…ë ¹ì–´ ì…ë ¥ì°½ ê´€ë ¨ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ì œê±°ë¨
        
        // ê°„ë‹¨í•œ ë°˜ì‘í˜• ë†’ì´ ì¡°ì •
        function adjustResponseHeight() {
            const responseArea = document.getElementById('response-area');
            if (responseArea) {
                const vh = window.innerHeight;
                const availableHeight = vh - 400; // í—¤ë”, ëª¨ë“œì„ íƒ, ì…ë ¥ì°½, ì—¬ë°± ê³ ë ¤
                const finalHeight = Math.max(300, availableHeight);
                responseArea.style.maxHeight = finalHeight + 'px';
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë° ì°½ í¬ê¸° ë³€ê²½ ì‹œ ë†’ì´ ì¡°ì •
        window.addEventListener('load', adjustResponseHeight);
        window.addEventListener('resize', adjustResponseHeight);
        
        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ë¡œë“œ ì™„ë£Œ - ëª¨ë“  ë²„íŠ¼ì´ onclickìœ¼ë¡œ ì—°ê²°ë¨');
            
            // ì „ì—­ í•¨ìˆ˜ë“¤ì´ ì •ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
            console.log('ì „ì—­ í•¨ìˆ˜ í™•ì¸:');
            console.log('adminLogin:', typeof window.adminLogin);
            console.log('selectMode:', typeof window.selectMode);
            console.log('askQuestion:', typeof window.askQuestion);
            console.log('studentLogin:', typeof window.studentLogin);
            console.log('checkPassword:', typeof window.checkPassword);
            console.log('closeModal:', typeof window.closeModal);
            console.log('adminLogout:', typeof window.adminLogout);
        });
    </script>
</body>
</html>
